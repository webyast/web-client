<!--
# Copyright (c) 2009-2010 Novell, Inc.
# 
# All Rights Reserved.
# 
# This program is free software; you can redistribute it and/or modify it
# under the terms of version 2 of the GNU General Public License
# as published by the Free Software Foundation.
# 
# This program is distributed in the hope that it will be useful,
# but WITHOUT ANY WARRANTY; without even the implied warranty of
# MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the
# GNU General Public License for more details.
# 
# You should have received a copy of the GNU General Public License
# along with this program; if not, contact Novell, Inc.
# 
# To contact Novell about this file by physical or electronic mail,
# you may find current contact information at www.novell.com
-->
<% disabled = ! @permissions[:accept] %>
<% content_for :head do %>
  <style>
    .eula-text-area {
      width: 45em;
      height: 30em;
      background-color: white;
      overflow: auto;
      border: 2px inset #CCC;
      font-size: 1.1em;
      white-space: pre;
      font-family: courier, serif;
    } 
  </style>
<% end %>
<div class='plugin-icon'><img src='/icons/yast-product-registration.png' alt="eula module"/>
<%=_("Licence Agreement")-%> - <%= @eula.name -%>
</div>

<div class="plugin-content" id="eula">
<% form_for(:eula, 
            :url => { :action => :update, :id => @eula_id }, 
            :html=> { :method => :put} 
           ) do |f|  -%>
<fieldset>
  <p>
  <div class="eula-text-area"><%= @eula.text %></div>
  </p>
  <% if @eula.only_show %>
  <%=  hidden_field_tag :accepted, "true" %>
  <% else %>
  <p>
  <%=  f.radio_button :accepted, :true, :checked => @eula.accepted, :readonly => disabled, :disabled => disabled %>
  <%=  _("Yes, I agree to the license agreement.") %>
  <p></p>
  <%=  f.radio_button :accepted, :false, :checked => (! @eula.accepted), :readonly => disabled, :disabled => disabled %>
  <%=  _("No, I do not agree.") %>
  </p>
  <% end -%>
  <% unless @eula.text_lang == 'en' then %>
  <%= f.hidden_field :text_lang %>
  <% end %>
</fieldset>
<div class="nav-buttons">
  <%= form_next_button :disabled => disabled %>
  <%= if @first_eula
        @first_basesystem_step ? "" : (form_str_spacer + form_back_button )
      else
        form_str_spacer + (link_to _("Back"), :action => :show, :id => @prev_id)
      end %>
</div>
<% end -%>
</div>
