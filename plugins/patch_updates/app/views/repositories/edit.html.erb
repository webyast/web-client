
<% disabled = ! @permissions[:write] %>
<h3><%= disabled ? _("Repository Properties") : _("Edit Repository Properties") -%></h3>
<br>


<% form_for(:repo, @repo, :url => { :action => "update", :id => @repo.id }, :html => { :method => :put } ) do |f| %>
  <%= f.error_messages %>

  <div class="table">
    <table class="list" cellpadding="3" cellspacing="0">
    <tr>
 	<th class="full" colspan="2"><%=_("Repository")%></th>
    </tr>

    <tr>
	<td class="first" width="120"><strong><%=_("Alias")-%></strong></td>
	<td class="last"><strong><%= h @repo.id %></strong></td>
    </tr>

    <tr>
	<td class="first" width="120"><strong><%=_("Enabled")-%></strong></td>
	<td class="last"><input type="checkbox" <%= @repo.enabled ? ' checked' : '' -%> <%= disabled ? 'disabled' : '' -%>/></td>
    </tr>

    <tr>
	<td class="first" width="120"><strong><%=_("Autorefresh")-%></strong></td>
	<td class="last"><input type="checkbox" <%= @repo.autorefresh ? ' checked' : '' -%> <%= disabled ? 'disabled' : '' -%>/></td>
    </tr>

    <tr>
	<td class="first" width="120"><strong><%= _("Name") -%></strong></td>
	<td class="last"> <input type="text" id="parameters[name]" name="parameters[name]" value="<%= h @repo.name -%>" <%= disabled ? 'disabled' : '' -%>/> </td>
    </tr>

    <tr>
	<td class="first" width="120"><strong><%=_("Priority")-%></strong></td>
	<td class="last"><input type="text" value="<%= @repo.priority-%>" <%= disabled ? 'disabled' : '' -%>/></td>
    </tr>

    <tr>
	<td class="first" width="120"><strong><%=_("Keep downloaded packages")-%></strong></td>
	<td class="last"><input type="checkbox" <%= @repo.keep_packages ? ' checked' : '' -%> <%= disabled ? 'disabled' : '' -%>/></td>
    </tr>

    </table>
    <br>
    <p>
    <% if !disabled -%>
      <%= f.submit _("Update"), :disabled => disabled %>
    <% end -%>

  <%= link_to _('Back'), {:action => :index}, :onclick=>"$('#progress').show()", :class => "button"-%></p>
  </div>
<% end %>
