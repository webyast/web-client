<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <%= stylesheet_link_tag 'admin' %>

   <%= javascript_include_tag :defaults %>
   <%= javascript_include_tag "yui/yahoo", "yui/dom", "yui/event", "yui/connection", "yui/dragdrop", "yui/container" %>
   <%= stylesheet_link_tag  'yui/container'%>

<title>YaST</title>

</head>

<body>
<div id="main">
  <div id="header">
    <div id="logo-line">
      <a href="/" style="float: left;">
        <img src="/images/Yast_crystal_logo_gray.png" width="160" height="55" alt="logo" />
      </a>
      <span style="color: #FF9600; font-size: 38pt; font-weight:bold;">&nbsp;<i>Web</i>-UI</span>
    </div>
    <ul id="top-navigation">
      <div id="tabmenue">
         <% @controllers = session[:controllers] 
          @controllers.sort.each do |c|
  	  active = (controller.controller_name == c[0]) 
          if @controllers[c[0]].read_permission -%>
             <li <%= "class='active'" if active -%> >
             <span><span>
	      <%= "<a href=\"/#{c[0]}\" onclick=\"Element.show('progress')\">" unless active -%>
  	        <%= @controllers[c[0]].visibleName.capitalize -%>
	      <%= "</a>" unless active -%>
	    </span></span>
	    </li>
          <% end -%>
         <% end -%>
      </div>
    </ul>
  </div>
  <div id="middle">
     <div id="left-column">
      <h3>Session</h3>
      <ul class="nav">
	<li><a href="/session">Choose host</a></li>
        <div id="logout">
           <% user = session[:user]
              if user -%>
    	      <li><a href="/logout">Logout</a></li>
           <% end -%>
        </div>
      </ul>
      <br><br>
      <div id="connectedHost">
        <% host = session[:host]
           if host!=nil && host!=""  
             if host.index("://") != nil
               host = host[host.index("://")+3, host.length-1] #extract "http(s)://"
             end -%>
             <% user = session[:user] -%>
             <div class="box">
               <p>Connected Host</p>
               <p>Name: <%= host -%> <p>
               User: <%= user -%>
             </div>
           <% end -%>
      </div>
    </div>
    <div id="center-column">
      <div class="top-bar">
        <%= @content_for_layout %>
      </div>
    </div>
    <div id="right-column">
      <strong class="h">INFO</strong>
      <div class="box">This is a sample web-UI for YaST-as-a-webservice.</div>
      <img src="/images/n-geeko.png"/>
      <br/>
      <span class="h">Authors</span>
      <div class="box">
       <ul class="nav">
        <li><a href="mailto:schubi@suse.de">Stefan Schubert</a></li>
	<li><a href="mailto:kkaempf@suse.de">Klaus K&auml;mpf</a></li>
	<li><a href="mailto:dmacvicar@suse.de">D. Mac-Vicar Prett</a></li>
	<li class="last"><a href="mailto:yast-devel@opensuse.org">Others</a></li>
       </ul>
      </div>
      <span class="h">Links</span>
      <div class="box">
       <ul class="nav">
        <li><a href="http://en.opensuse.org/YaST">About YaST</a></li>
        <li><a href="http://www.rubyonrails.org">About Rails</a></li>
        <li><a href="http://www.webresourcesdepot.com/free-admin-template-for-web-applications">About used CSS</a></li>
        <li><a href="http://www.famfamfam.com/">About used icons</a></li>
        <li class="last"><a href="http://www.freedesktop.org">About PolicyKit</a></li>
       </ul>
      </div>
      <br/>
      <br/>
      <br/>
      <br/>
      <br/>
      <br/>
      <br/>
      <br/>
      <br/>
      <br/>
      <br/>
      <br/>
      <br/>
      <br/>
      <br/>
      <br/>
      <br/>
      <br/>
      <br/>
      <br/>
      <br/>
      <br/>
      <br/>
      <br/>
      <br/>
      <br/>
      <br/>
      <div id="progress" style="display:none;">
	<%= image_tag("/images/working.gif") %>...Wait...
      </div>
    </div>
  </div>
</div>
</body>
</html>  
