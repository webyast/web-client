# Generated by ruby-webyast-0.1 Selenium formatter
# Date: Wed Aug 19 2009 18:12:53 GMT+0200 (CEST)

require "selenium/test_case"

class Login_test < Selenium::TestCase
  
  def test_login_test_credentials
    @selenium.open "/hosts"
    @selenium.click "link=dummy-host"
    @selenium.wait_for_page_to_load "30000"
    assert @selenium.is_element_present("login")
    assert @selenium.is_element_present("password")
  end

  
  def test_login_test_services_list
    @selenium.open "/hosts"
    assert @selenium.is_element_present("css=div[class~='services-list']")
  end

  
  def test_login_test_guest_login
    @selenium.open "/hosts?error=nohostid"
    @selenium.click "link=dummy-host"
    @selenium.wait_for_page_to_load "30000"
    @selenium.type "login", "webyast_guest"
    @selenium.type "password", "test"
    @selenium.click "login_button"
    @selenium.wait_for_page_to_load "30000"
    assert !@selenium.is_element_present("Login incorrect")
  end

  
  def test_login_test_loggedin_hosts
    @selenium.open "/hosts?error=nohostid"
    @selenium.click "link=dummy-host"
    @selenium.wait_for_page_to_load "30000"
    @selenium.type "login", "webyast_guest"
    @selenium.type "password", "test"
    @selenium.click "login_button"
    @selenium.wait_for_page_to_load "30000"
    assert !@selenium.is_element_present("Login incorrect")
    @selenium.open "/hosts"
    @selenium.wait_for_page_to_load "30000"
    @selenium.click "link=dummy-host"
    @selenium.wait_for_page_to_load "30000"
    assert !@selenium.is_text_present("This is embarrasing....")
  end


end
